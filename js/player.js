function player(e,t,a,r,l){document.getElementById("loading")?.remove(),jwplayer("player").setup({sources:e,image:t,title:getQueryParam("title"),width:l.player.width,height:l.player.height,aspectratio:null,preload:l.player.preload,aboutlink:l.player.aboutlink,abouttext:l.player.abouttext,allowFullscreen:l.player.allowFullscreen,autostart:l.player.autostart,mute:l.player.mute,repeat:l.player.loop,advertising:{client:l.player.advertising.client,admessage:l.player.advertising.admessage,schedule:Object.fromEntries(l.player.advertising.offset.map(((e,t)=>[`adbreak${t+1}`,{offset:e,tag:a}])))},logo:l.player.logo,tracks:[{kind:l.player.tracks.kind,file:getQueryParam("sub")||null,label:getQueryParam("sub_label")||null},{kind:"thumbnails",file:r}],captions:l.player.captions,sharing:{},cast:{},playbackRateControls:l.player.playbackRateControls}),jwplayer("player").addButton("https://delivrjs.github.io/delivrjs/assets/custom-icons/forward.png","Forward 10 Seconds",(()=>{jwplayer().seek((jwplayer().getPosition()+10).toFixed(1))}),"Forward 10 seconds"),jwplayer("player").on("adBlock",(function(){if(l.player.fuckadblock&&l.player.showAD){const e={file:"https://delivrjs.github.io/delivrjs/assets/video/adblock.mp4",type:"video/mp4",image:"https://delivrjs.github.io/delivrjs/assets/img/adblock.jpeg",width:l.player.width,height:l.player.height,preload:l.player.preload,controls:!1,autostart:!0,repeat:!0,logo:l.player.logo};document.getElementById("loading")?.remove(),jwplayer("player").setup(e)}}))}function err(e){document.getElementById("loading")?.remove(),jwplayer("player").setup({file:"https://delivrjs.github.io/delivrjs/assets/video/404.mp4",type:"video/mp4",width:e.player.width,height:e.player.height,preload:e.player.preload,autostart:!0,repeat:!0,logo:e.player.logo,controls:!1})}function getQueryParam(e){return new URLSearchParams(window.location.search).get(e)??null}(async()=>{const[e,t]=await Promise.all([fetch("https://connected.pages.dev/regEx.json").then((e=>e.json())),fetch("config.json").then((e=>e.json()))]),a=getQueryParam("id");if(!a)return err(t);let r,l;for(const{prefix:t,host:o}of e){if(new RegExp(t,"gm").test(a)){r=o,l=a.replace(t,"");break}}if(!r||!l)return err(t);const o=await xstream.get(r,l,t);if(!o||!o.status)return err(t);"googlephotos"===o.host&&document.head.insertAdjacentHTML("afterbegin",'<meta name="referrer" content="never"/><meta name="referrer" content="no-referrer"/>');player(o.sources,getQueryParam("thumbnail")||o.image,t.player.showAD?t.player.advertising.adTag:null,o.vtt,t)})();